<!DOCTYPE html>
<html>

<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>课程表</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        body {
            font-family: "Microsoft YaHei";
            background-color: #386184;
        }
        
        .blur {
            position: absolute;
            left: 0px;
            top: 0px;
            z-index: -1;
            filter: url(blur.svg#blur);
            /* FireFox, Chrome, Opera */
            
            -webkit-filter: blur(10px);
            /* Chrome, Opera */
            
            -moz-filter: blur(10px);
            -ms-filter: blur(10px);
            filter: blur(10px);
            filter: progid: DXImageTransform.Microsoft.Blur(PixelRadius=10, MakeShadow=false);
            /* IE6~IE9 */
        }
        
        th,
        td {
            text-align: center;
        }
        
        img {
            width: 100%;
            height: 200%;
        }
        
        .btn-ring {
            height: 200px;
            width: 200px;
            border-radius: 100px;
            background: rgba(255, 255, 255, 0.3);
            color: rgba(72, 67, 67, 0.85);
            border: solid 10px #e0e0e0;
            font-size: 50px;
            margin: 70px 0 50px -100px;
            position: absolute;
            left: 50%;
        }
    </style>
</head>

<body>
    <!--nav-->
    <nav class="navbar navbar-inverse" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-collapse">
                <span class="sr-only">切换导航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <button class="btn btn-default pull-left" style="margin-top:10px;margin-left:10px;" href="#">刷新</button>
            <div class="navbar-brand" style="width:120px;margin-left:-60px;position: absolute;left:50%;" href="#">课程表</div>
        </div>

        <div class="collapse navbar-collapse" id="example-navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">iOS</a>
                </li>
                <li><a href="#">SVN</a>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
               Java <b class="caret"></b>
            </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">jmeter</a>
                        </li>
                        <li><a href="#">EJB</a>
                        </li>
                        <li><a href="#">Jasper Report</a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="#">分离的链接</a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="#">另一个分离的链接</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
    <!--container-->
    <div id="container"></div>
    <!--bacgground image-->
    <img alt="" src="images/dc0bcc4d8c93f36e5abbe18c468913fa2adddbad11a74-JAsiye_fw658.jpg" class="blur">
    <script type="text/javascript" src="js/jquery.js"></script>
    <!--    <script src="js/jquery.mobile-1.4.0.min.js"></script>-->

    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/handlebars-v3.0.3.js"></script>
    <script type="text/javascript" src="js/jquery.mockjax.min.js"></script>
    <!--template-->
    <script id="level-test-template" type="text/x-handlebars-template">
        <table class="table table-striped col-xs-12">
            <thead>
                <tr>
                    <th>周一</th>
                    <th>周二</th>
                    <th>周三</th>
                    <th>周四</th>
                    <th>周五</th>
                    <th>周六</th>
                </tr>
            </thead>
            <tbody>
                {{#each detail}}
                {{#if 准考证号}}
                <tr>
                    <td>{{学年}}</td>
                    <td>{{学期}}</td>
                    <td>{{等级考试名称}}</td>
                    <td>{{准考证号}}</td>
                    <td>{{考试日期}}</td>
                    <td>{{成绩}}</td>
                </tr>
                {{/if}}
                {{/each}}
            </tbody>
        </table>
    </script>

    <!--进行数据处理、html构造-->
    <script type="text/javascript">
        $(document).ready(function () {
            //模拟的json对象
            var data = {
                "status": "0",
                "time": "2015-07-25 09:42:45",
                "detail": [
                    {
                        "学年": "2012-2013",
                        "学期": "2",
                        "等级考试名称": "可报考四级名单",
                        "准考证号": "",
                        "考试日期": "20130417",
                        "成绩": "425"
                    },
                    {
                        "学年": "2013-2014",
                        "学期": "1",
                        "等级考试名称": "全国大学英语四级考试",
                        "准考证号": "320082132118714",
                        "考试日期": "20131214",
                        "成绩": "420"
                    },
                    {
                        "学年": "2012-2013",
                        "学期": "2",
                        "等级考试名称": "可报考四级名单",
                        "准考证号": "",
                        "考试日期": "20130417",
                        "成绩": "425"
                    },
                    {
                        "学年": "2013-2014",
                        "学期": "1",
                        "等级考试名称": "全国大学英语四级考试",
                        "准考证号": "320082132118714",
                        "考试日期": "20131214",
                        "成绩": "420"
                    },
                    {
                        "学年": "2012-2013",
                        "学期": "2",
                        "等级考试名称": "可报考四级名单",
                        "准考证号": "",
                        "考试日期": "20130417",
                        "成绩": "425"
                    },
                    {
                        "学年": "2013-2014",
                        "学期": "1",
                        "等级考试名称": "全国大学英语四级考试",
                        "准考证号": "320082132118714",
                        "考试日期": "20131214",
                        "成绩": "420"
                    },
                    {
                        "学年": "2012-2013",
                        "学期": "2",
                        "等级考试名称": "可报考四级名单",
                        "准考证号": "",
                        "考试日期": "20130417",
                        "成绩": "425"
                    },
                    {
                        "学年": "2013-2014",
                        "学期": "1",
                        "等级考试名称": "全国大学英语四级考试",
                        "准考证号": "320082132118714",
                        "考试日期": "20131214",
                        "成绩": "420"
                    },
                    {
                        "学年": "2012-2013",
                        "学期": "2",
                        "等级考试名称": "可报考四级名单",
                        "准考证号": "",
                        "考试日期": "20130417",
                        "成绩": "425"
                    },
                    {
                        "学年": "2013-2014",
                        "学期": "1",
                        "等级考试名称": "全国大学英语四级考试",
                        "准考证号": "320082132118714",
                        "考试日期": "20131214",
                        "成绩": "420"
                    },
                    {
                        "学年": "2012-2013",
                        "学期": "2",
                        "等级考试名称": "可报考四级名单",
                        "准考证号": "",
                        "考试日期": "20130417",
                        "成绩": "425"
                    },
                    {
                        "学年": "2013-2014",
                        "学期": "1",
                        "等级考试名称": "全国大学英语四级考试",
                        "准考证号": "320082132118714",
                        "考试日期": "20131214",
                        "成绩": "420"
                    }
                            ]
            }

            /*mockjax*/
            $.mockjax({
                url: '/url',
                responseText: data
            });

            function getStatus() {
                return $.ajax({
                    type: "POST",
                    url: '/url',
                    data: {},
                    dataType: 'json',
                });
            }

            function updateStatus(data) {
                var myTemplate = Handlebars.compile($("#level-test-template").html());
                $('#container').html(myTemplate(data));
            }

            $.when(getStatus()).done(updateStatus);
        });
    </script>
</body>

</html>